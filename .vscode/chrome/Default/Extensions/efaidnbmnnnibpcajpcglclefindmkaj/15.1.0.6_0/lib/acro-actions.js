function dependOn(){"use strict";return[require("communicate"),require("common"),require("util"),require("proxy"),require("analytics"),require("acro-web2pdf")]}var def;require=function(a){"use strict";return a},def=window.define?window.define:function(a,b){"use strict";return b.apply(null,[{ajax:$.ajax.bind($)}])};var exports=acom_analytics={};def(dependOn(),function(a,b,c,d,e,f){"use strict";var h,i,g=null;i=function(){this.proxy=d.proxy.bind(this),this.LOG=b.LOG,this.getVersion=function(b){var c,d=function(d){d&&(clearTimeout(c),1===+d.majorVersion?(e.event(e.e.SHIM_VERSION,{VERSION:"Unknown"}),e.shim="unknown"):0===+d.majorVersion?(e.event(e.e.SHIM_VERSION,{VERSION:"None"}),e.shim="none"):(e.event(e.e.SHIM_VERSION,{VERSION:d.majorVersion+"."+d.minorVersion}),e.shim=d.majorVersion+"."+d.minorVersion),a.setVersion(+d.majorVersion),b(+d.majorVersion))};c=setTimeout(function(){d({messageType:"shimVersionInfo",majorVersion:"1",minorVersion:"0"})},2e3),f.getVersion(d)},this.openInAcrobat=function(b){if(a.version>1){b.panel_op="status",b.current_status="pdf_downloading",a.sendMessage(b);var d=c.newXHR();d.open("GET",b.url,!0),d.responseType="blob",d.onload=this.proxy(function(c){var e;d.status<400?(e=new FileReader,e.onloadend=function(c){b.base64PDF=c.target.result,f.openInAcrobat(b),b.content_op="status",b.current_status="pdf_downloaded",a.sendMessage(b)},e.readAsDataURL(d.response)):(b.panel_op="status",b.current_status="pdf_failure",a.sendMessage(b))}),d.send()}else chrome.downloads.download({url:b.url,conflictAction:"uniquify"})},this.open_converted_file=function(a){f.openFile(a)}},g||(g=new i);for(h in g)g.hasOwnProperty(h)&&("function"==typeof g[h]?exports[h]=g[h].bind(g):exports[h]=g[h]);return a.registerHandlers({open_in_acrobat:g.proxy(g.openInAcrobat),open_converted_file:g.proxy(g.open_converted_file)}),g});